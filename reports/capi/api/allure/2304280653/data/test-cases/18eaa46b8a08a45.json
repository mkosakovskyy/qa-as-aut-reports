{"uid":"18eaa46b8a08a45","name":"CP02. EL PAIS. Búsqueda de assets. Verificar que se obtienen noticias, autores y tags","fullName":"02. Peticiones a la API para comprobar la búsqueda de assets: CP02. EL PAIS. Búsqueda de assets. Verificar que se obtienen noticias, autores y tags","historyId":"e6d40c418368c16e4023d300be5aaee0","time":{"start":1682664810662,"stop":1682664812379,"duration":1717},"description":"  Swagger > Search Assets > GET /search/assets/{businessUnit}/text","descriptionHtml":"<p>Swagger &gt; Search Assets &gt; GET /search/assets/{businessUnit}/text</p>\n","status":"failed","statusMessage":"1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]","statusTrace":"java.lang.AssertionError: 1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]\n\tat org.testng.Assert.fail(Assert.java:110)\n\tat qa.capi.stepdefs.SearchAssetsSteps.laEstructuraDelJsonCumpleConElEsquemaDeNoticiasAutoresYEtiquetas(SearchAssetsSteps.java:66)\n\tat ✽.La estructura del json cumple con el esquema de noticias, autores y etiquetas(file:///home/ubuntu/runner-linux-prisa/_work/qa-api-capi/qa-api-capi/src/test/resources/features/SearchAssets.feature:29)\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"  Swagger > Search Assets > GET /search/assets/{businessUnit}/text","status":"failed","statusMessage":"1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]","statusTrace":"java.lang.AssertionError: 1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]\n\tat org.testng.Assert.fail(Assert.java:110)\n\tat qa.capi.stepdefs.SearchAssetsSteps.laEstructuraDelJsonCumpleConElEsquemaDeNoticiasAutoresYEtiquetas(SearchAssetsSteps.java:66)\n\tat ✽.La estructura del json cumple con el esquema de noticias, autores y etiquetas(file:///home/ubuntu/runner-linux-prisa/_work/qa-api-capi/qa-api-capi/src/test/resources/features/SearchAssets.feature:29)\n","steps":[{"name":"Given  Se dispone del enlace \"https://cntapi.prisasd.com\" para conectarse","time":{"start":1682664810663,"stop":1682664810664,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And  Se dispone de una clave para conectarse","time":{"start":1682664810664,"stop":1682664810665,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"When  La petición cuenta con los parámetros indicados en la tabla","time":{"start":1682664810665,"stop":1682664810666,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"18141351eb20e9e7","name":"Data table","source":"18141351eb20e9e7.csv","type":"text/tab-separated-values","size":38}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"And  Se envía la petición GET a la ruta \"/app/search/assets/ep/text\"","time":{"start":1682664810666,"stop":1682664811174,"duration":508},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Then  La petición devuelve un código 200 como respuesta","time":{"start":1682664811175,"stop":1682664811175,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And  La petición devuelve un json como respuesta","time":{"start":1682664811176,"stop":1682664811195,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And  La estructura del json cumple con el esquema de noticias, autores y etiquetas","time":{"start":1682664811195,"stop":1682664811286,"duration":91},"status":"failed","statusMessage":"1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]","statusTrace":"java.lang.AssertionError: 1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]\n\tat org.testng.Assert.fail(Assert.java:110)\n\tat qa.capi.stepdefs.SearchAssetsSteps.laEstructuraDelJsonCumpleConElEsquemaDeNoticiasAutoresYEtiquetas(SearchAssetsSteps.java:66)\n\tat ✽.La estructura del json cumple con el esquema de noticias, autores y etiquetas(file:///home/ubuntu/runner-linux-prisa/_work/qa-api-capi/qa-api-capi/src/test/resources/features/SearchAssets.feature:29)\n","steps":[],"attachments":[{"uid":"aad98f9df07be226","name":"JSON Schema","source":"aad98f9df07be226.txt","type":"text/plain","size":11546}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true},{"name":"And  Todos los autores contienen la frase \"Felipe González\" en el campo name","time":{"start":1682664811287,"stop":1682664811287,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And  Todas las etiquetas contienen la frase \"Felipe González\" en el campo name","time":{"start":1682664811287,"stop":1682664811288,"duration":1},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":9,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"qa.capi.support.Hooks.evidencias(io.cucumber.java.Scenario)","time":{"start":1682664811288,"stop":1682664812371,"duration":1083},"status":"passed","steps":[],"attachments":[{"uid":"9de646e509063886","name":"200 HTTP/1.1 200 OK","source":"9de646e509063886.txt","type":"text/plain","size":159098}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"labels":[{"name":"tag","value":"capi"},{"name":"tag","value":"SearchAssets"},{"name":"tag","value":"AUT-91"},{"name":"tag","value":"GET"},{"name":"tag","value":"elpais"},{"name":"host","value":"ip-10-13-0-9"},{"name":"thread","value":"792666@ip-10-13-0-9.main(1)"},{"name":"feature","value":"02. Peticiones a la API para comprobar la búsqueda de assets"},{"name":"story","value":"CP02. EL PAIS. Búsqueda de assets. Verificar que se obtienen noticias, autores y tags"},{"name":"suite","value":"02. Peticiones a la API para comprobar la búsqueda de assets"},{"name":"testClass","value":"CP02. EL PAIS. Búsqueda de assets. Verificar que se obtienen noticias, autores y tags"},{"name":"framework","value":"cucumber4jvm"},{"name":"language","value":"java"},{"name":"gherkin_uri","value":"file:///home/ubuntu/runner-linux-prisa/_work/qa-api-capi/qa-api-capi/src/test/resources/features/SearchAssets.feature"},{"name":"package","value":"src.test.resources.features.SearchAssets_feature.02. Peticiones a la API para comprobar la búsqueda de assets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Casos fallados","matchedStatuses":["failed"],"flaky":false}],"tags":["GET","capi","SearchAssets","AUT-91","elpais"]},"source":"18eaa46b8a08a45.json","parameterValues":[]}