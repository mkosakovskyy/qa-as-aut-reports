{"uid":"b0e595e992fd8ce7","name":"CP03. EL PAIS. Búsqueda de assets. Verificar que se obtienen noticias en inglés","fullName":"02. Peticiones a la API para comprobar la búsqueda de assets: CP03. EL PAIS. Búsqueda de assets. Verificar que se obtienen noticias en inglés","historyId":"4d28e60547fe094cb501018e4ee1309f","time":{"start":1682664812407,"stop":1682664813883,"duration":1476},"description":"  Swagger > Search Assets > GET /search/assets/{businessUnit}/text","descriptionHtml":"<p>Swagger &gt; Search Assets &gt; GET /search/assets/{businessUnit}/text</p>\n","status":"failed","statusMessage":"1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]","statusTrace":"java.lang.AssertionError: 1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]\n\tat org.testng.Assert.fail(Assert.java:110)\n\tat qa.capi.stepdefs.SearchAssetsSteps.laEstructuraDelJsonCumpleConElEsquemaDeSoloNoticias(SearchAssetsSteps.java:36)\n\tat ✽.La estructura del json cumple con el esquema de solo noticias(file:///home/ubuntu/runner-linux-prisa/_work/qa-api-capi/qa-api-capi/src/test/resources/features/SearchAssets.feature:42)\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"  Swagger > Search Assets > GET /search/assets/{businessUnit}/text","status":"failed","statusMessage":"1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]","statusTrace":"java.lang.AssertionError: 1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]\n\tat org.testng.Assert.fail(Assert.java:110)\n\tat qa.capi.stepdefs.SearchAssetsSteps.laEstructuraDelJsonCumpleConElEsquemaDeSoloNoticias(SearchAssetsSteps.java:36)\n\tat ✽.La estructura del json cumple con el esquema de solo noticias(file:///home/ubuntu/runner-linux-prisa/_work/qa-api-capi/qa-api-capi/src/test/resources/features/SearchAssets.feature:42)\n","steps":[{"name":"Given  Se dispone del enlace \"https://cntapi.prisasd.com\" para conectarse","time":{"start":1682664812410,"stop":1682664812411,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And  Se dispone de una clave para conectarse","time":{"start":1682664812411,"stop":1682664812417,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"When  La petición cuenta con los parámetros indicados en la tabla","time":{"start":1682664812418,"stop":1682664812423,"duration":5},"status":"passed","steps":[],"attachments":[{"uid":"17066f2119bdc59d","name":"Data table","source":"17066f2119bdc59d.csv","type":"text/tab-separated-values","size":32}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"And  Se envía la petición GET a la ruta \"/app/search/assets/ep/text\"","time":{"start":1682664812423,"stop":1682664812657,"duration":234},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Then  La petición devuelve un código 200 como respuesta","time":{"start":1682664812658,"stop":1682664812658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And  La petición devuelve un json como respuesta","time":{"start":1682664812659,"stop":1682664812663,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And  La estructura del json cumple con el esquema de solo noticias","time":{"start":1682664812665,"stop":1682664812736,"duration":71},"status":"failed","statusMessage":"1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]","statusTrace":"java.lang.AssertionError: 1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]\n\tat org.testng.Assert.fail(Assert.java:110)\n\tat qa.capi.stepdefs.SearchAssetsSteps.laEstructuraDelJsonCumpleConElEsquemaDeSoloNoticias(SearchAssetsSteps.java:36)\n\tat ✽.La estructura del json cumple con el esquema de solo noticias(file:///home/ubuntu/runner-linux-prisa/_work/qa-api-capi/qa-api-capi/src/test/resources/features/SearchAssets.feature:42)\n","steps":[],"attachments":[{"uid":"fe67e83a4c6c546f","name":"JSON Schema","source":"fe67e83a4c6c546f.txt","type":"text/plain","size":10572}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true},{"name":"And  El campo contentBody dentro de cada asset esta en inglés","time":{"start":1682664812737,"stop":1682664812738,"duration":1},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"qa.capi.support.Hooks.evidencias(io.cucumber.java.Scenario)","time":{"start":1682664812738,"stop":1682664813882,"duration":1144},"status":"passed","steps":[],"attachments":[{"uid":"e031b5391409a4ed","name":"200 HTTP/1.1 200 OK","source":"e031b5391409a4ed.txt","type":"text/plain","size":230718}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"labels":[{"name":"tag","value":"capi"},{"name":"tag","value":"SearchAssets"},{"name":"tag","value":"AUT-284"},{"name":"tag","value":"GET"},{"name":"tag","value":"elpais"},{"name":"host","value":"ip-10-13-0-9"},{"name":"thread","value":"792666@ip-10-13-0-9.main(1)"},{"name":"feature","value":"02. Peticiones a la API para comprobar la búsqueda de assets"},{"name":"story","value":"CP03. EL PAIS. Búsqueda de assets. Verificar que se obtienen noticias en inglés"},{"name":"suite","value":"02. Peticiones a la API para comprobar la búsqueda de assets"},{"name":"testClass","value":"CP03. EL PAIS. Búsqueda de assets. Verificar que se obtienen noticias en inglés"},{"name":"framework","value":"cucumber4jvm"},{"name":"language","value":"java"},{"name":"gherkin_uri","value":"file:///home/ubuntu/runner-linux-prisa/_work/qa-api-capi/qa-api-capi/src/test/resources/features/SearchAssets.feature"},{"name":"package","value":"src.test.resources.features.SearchAssets_feature.02. Peticiones a la API para comprobar la búsqueda de assets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Casos fallados","matchedStatuses":["failed"],"flaky":false}],"tags":["AUT-284","GET","capi","SearchAssets","elpais"]},"source":"b0e595e992fd8ce7.json","parameterValues":[]}