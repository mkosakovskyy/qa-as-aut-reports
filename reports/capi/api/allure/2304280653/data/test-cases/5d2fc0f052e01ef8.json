{"uid":"5d2fc0f052e01ef8","name":"CP01. EL PAIS. Búsqueda de assets. Verificar que se obtienen solo noticias","fullName":"02. Peticiones a la API para comprobar la búsqueda de assets: CP01. EL PAIS. Búsqueda de assets. Verificar que se obtienen solo noticias","historyId":"623a88854c85628d77c6dd3fcf19787e","time":{"start":1682664808772,"stop":1682664810642,"duration":1870},"description":"  Swagger > Search Assets > GET /search/assets/{businessUnit}/text","descriptionHtml":"<p>Swagger &gt; Search Assets &gt; GET /search/assets/{businessUnit}/text</p>\n","status":"failed","statusMessage":"1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]","statusTrace":"java.lang.AssertionError: 1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]\n\tat org.testng.Assert.fail(Assert.java:110)\n\tat qa.capi.stepdefs.SearchAssetsSteps.laEstructuraDelJsonCumpleConElEsquemaDeSoloNoticias(SearchAssetsSteps.java:36)\n\tat ✽.La estructura del json cumple con el esquema de solo noticias(file:///home/ubuntu/runner-linux-prisa/_work/qa-api-capi/qa-api-capi/src/test/resources/features/SearchAssets.feature:17)\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"  Swagger > Search Assets > GET /search/assets/{businessUnit}/text","status":"failed","statusMessage":"1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]","statusTrace":"java.lang.AssertionError: 1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]\n\tat org.testng.Assert.fail(Assert.java:110)\n\tat qa.capi.stepdefs.SearchAssetsSteps.laEstructuraDelJsonCumpleConElEsquemaDeSoloNoticias(SearchAssetsSteps.java:36)\n\tat ✽.La estructura del json cumple con el esquema de solo noticias(file:///home/ubuntu/runner-linux-prisa/_work/qa-api-capi/qa-api-capi/src/test/resources/features/SearchAssets.feature:17)\n","steps":[{"name":"Given  Se dispone del enlace \"https://cntapi.prisasd.com\" para conectarse","time":{"start":1682664808792,"stop":1682664808793,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And  Se dispone de una clave para conectarse","time":{"start":1682664808794,"stop":1682664808794,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"When  La petición cuenta con los parámetros indicados en la tabla","time":{"start":1682664808794,"stop":1682664808812,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"cf1f658c5ecdd3ed","name":"Data table","source":"cf1f658c5ecdd3ed.csv","type":"text/tab-separated-values","size":32}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"And  Se envía la petición GET a la ruta \"/app/search/assets/ep/text\"","time":{"start":1682664808813,"stop":1682664809228,"duration":415},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Then  La petición devuelve un código 200 como respuesta","time":{"start":1682664809234,"stop":1682664809239,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And  La petición devuelve un json como respuesta","time":{"start":1682664809242,"stop":1682664809245,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"And  La estructura del json cumple con el esquema de solo noticias","time":{"start":1682664809245,"stop":1682664809516,"duration":271},"status":"failed","statusMessage":"1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]","statusTrace":"java.lang.AssertionError: 1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (string) does not match any allowed primitive type (allowed: [\"integer\"])\n    level: \"error\"\n    schema: {\"loadingURI\":\"#\",\"pointer\":\"/properties/content/items/properties/id\"}\n    instance: {\"pointer\":\"/content/0/id\"}\n    domain: \"validation\"\n    keyword: \"type\"\n    found: \"string\"\n    expected: [\"integer\"]\n\tat org.testng.Assert.fail(Assert.java:110)\n\tat qa.capi.stepdefs.SearchAssetsSteps.laEstructuraDelJsonCumpleConElEsquemaDeSoloNoticias(SearchAssetsSteps.java:36)\n\tat ✽.La estructura del json cumple con el esquema de solo noticias(file:///home/ubuntu/runner-linux-prisa/_work/qa-api-capi/qa-api-capi/src/test/resources/features/SearchAssets.feature:17)\n","steps":[],"attachments":[{"uid":"17e19d0cca204f15","name":"JSON Schema","source":"17e19d0cca204f15.txt","type":"text/plain","size":10572}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true},{"name":"And  Todos los assets de la lista contienen la frase \"Felipe González\" en algún campo","time":{"start":1682664809520,"stop":1682664809520,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"qa.capi.support.Hooks.evidencias(io.cucumber.java.Scenario)","time":{"start":1682664809521,"stop":1682664810638,"duration":1117},"status":"passed","steps":[],"attachments":[{"uid":"e7cf1504b1cddda4","name":"200 HTTP/1.1 200 OK","source":"e7cf1504b1cddda4.txt","type":"text/plain","size":157000}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"labels":[{"name":"tag","value":"capi"},{"name":"tag","value":"SearchAssets"},{"name":"tag","value":"AUT-283"},{"name":"tag","value":"GET"},{"name":"tag","value":"elpais"},{"name":"host","value":"ip-10-13-0-9"},{"name":"thread","value":"792666@ip-10-13-0-9.main(1)"},{"name":"feature","value":"02. Peticiones a la API para comprobar la búsqueda de assets"},{"name":"story","value":"CP01. EL PAIS. Búsqueda de assets. Verificar que se obtienen solo noticias"},{"name":"suite","value":"02. Peticiones a la API para comprobar la búsqueda de assets"},{"name":"testClass","value":"CP01. EL PAIS. Búsqueda de assets. Verificar que se obtienen solo noticias"},{"name":"framework","value":"cucumber4jvm"},{"name":"language","value":"java"},{"name":"gherkin_uri","value":"file:///home/ubuntu/runner-linux-prisa/_work/qa-api-capi/qa-api-capi/src/test/resources/features/SearchAssets.feature"},{"name":"package","value":"src.test.resources.features.SearchAssets_feature.02. Peticiones a la API para comprobar la búsqueda de assets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Casos fallados","matchedStatuses":["failed"],"flaky":false}],"tags":["AUT-283","GET","capi","SearchAssets","elpais"]},"source":"5d2fc0f052e01ef8.json","parameterValues":[]}